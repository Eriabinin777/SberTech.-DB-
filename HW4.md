# LiteDB

## Введение 

База данных NoSQL (первоначально обозначаемая как "не SQL" или "нереляционная") предоставляет механизм для хранения и извлечения данных, которые моделируются средствами, отличными от табличных отношений, используемых в реляционных базах данных. Базы данных NoSQL все чаще используются в больших данных и веб-приложениях реального времени.

Ничто не может быть более показательным для внезапного перехода на NoSQL, чем устоявшиеся компании, такие как Facebook, Google и Amazon.com на основе хорошо зарекомендовавших себя технологий реляционных баз данных. Кажется, что в один прекрасный день Веб управлялся несколькими СУБД, а на следующий день пять или около того решений NoSQL зарекомендовали себя как достойные решения.

Сказав все это, первое, что мы должны сделать, это объяснить, что подразумевается под NoSQL. В то время как поставщики реляционных баз данных исторически пытались позиционировать свое программное обеспечение как универсальное решение, NoSQL ориентируется на меньшие подразделения ответственности, где лучший инструмент для данной работы часто является гибким. NoSQL - это открытость и осведомленность об альтернативных, существующих и дополнительных шаблонах и инструментах для управления вашими данными.

Для более подробного ознакомления с базами данных NoSQL, пожалуйста, перейдите по этой [ссылке](https://russianblogs.com/article/30071264964/).

LiteDB - это простое, быстрое и бесплатное встроенное хранилище документов .NET NoSQL в одном файле данных. Вдохновленный MongoDB, поддерживает коллекции, классы POCO, документы Bson, индексы, потоковые данные, транзакции ACID и выражения LINQ. [Официальный сайт LiteDB](https://www.litedb.org/).

Для начала вам необходимо понять пять простых концепций.

1. LiteDB использует ту же концепцию базы данных, с которой многие уже знакомы. В экземпляре LiteDB может быть ноль или более баз данных (версий), каждая из которых действует как высокоуровневые контейнеры для всего остального.
2. База данных может содержать ноль или более коллекций. Коллекция имеет достаточно общего с традиционной таблицей, так что вы можете смело считать их одним и тем же.
3. Коллекции состоят из нуля или более документов. Опять же, документ можно безопасно рассматривать как строку.
4. Документ состоит из одного или нескольких полей, которые, как вы, вероятно, догадываетесь, во многом похожи на столбцы или свойства класса.
5. Индексы в LiteDB функционируют в основном так же, как и их аналоги в СУБД.

Скачать LiteDB можно по [ссылке](https://www.nuget.org/packages/LiteDB/).

## Характеристики

* Бессерверное хранилище документов NoSQL
* Простой API, очень похожий на официальный драйвер MongoDB
* 100% C #-код для .NET 3.5 /4.0 в одной DLL (менее 300 КБ) - Без зависимостей
* Поддержка переносимых платформ: Полная.NET и NET Standard 1.3+2.0 (для UWP 10, Xamarin iOS и Android)
* Потокобезопасный / многопроцессорный
* Восстановление при сбое записи (режим журнала)
* Поддержка классов POCO или BsonDocument
* Шифрование файла данных с использованием криптографии DES
* Хранилище файлов и потоковых данных (например, GridFS в MongoDB)
* Хранилище с одним файлом данных (например, SQLite)
* Индексированные поля документа для быстрого поиска (до 16 индексов в коллекции)
* Поддержка LINQ для запросов с поддержкой Include
* Командная строка командной оболочки (попробуйте эту онлайн-версию)
* С открытым исходным кодом и бесплатно для всех, включая коммерческое использование
* Установка из NuGet: Установочный пакет LiteDB
 
LiteDB во многом вдохновлен MongoDB. Я попытался создать базу данных, которая работает как MongoDB, но в очень малом масштабе, используя только самые важные функции для небольших приложений. Если вы знаете MongoDB, вы уже знаете LiteDB.

У LiteDB имеется официальный [GitHub](https://github.com/mbdavid/LiteDB), на котором лежат все исходники

## Где использовать?

* Небольшие веб-приложения, сайты, блоги или форумы
* Один файл данных для каждой учетной записи / хранилища данных пользователя
* Настольные / локальные небольшие приложения
* Формат файла приложения
* Несколько операций записи пользователей с параллелизмом

## История развития

Полная летопись развития LiteDB находится [здесь](https://github.com/mbdavid/LiteDB/releases?page=1). LiteDB была создана 25 января 2015 году. В настоящее время выпущена 5 версия данной СУБД. Ниже приведен небольшой список наиболее важных обновлений с изменениями.

Обновленная версия v5.0.16 - 19 марта 2023
* Использовать только мьютекс для общего механизма открытия и закрытия синхронизации и удалить блокировки с помощью@dev-joshiв № 2293
* Исправлена обработка Min(Func<T,TResult>) с помощью@gcrossland-cosworthв № 2287
* Измените тип возвращаемого значения ILiteRepository.Insert, чтобы он соответствовал ILiteDatabase.Insert,@InvisiblePhilв # 2260
* Исправлена опечатка@iArmanKarimiв № 2267
* Исправлена SqlLike@pjy612в № 2235

Обновление версии v5.0.0-alpha - 5 августа 2019
* Полностью новый движок - WAL (Write Ahead Log)
* Управление многоверсионным параллелизмом (снимки и контрольные точки)
* Полное сопровождение сделки
* Поддержка нескольких ридеров без блокировки
* Написать блокировку на уровне коллекции, а не на уровне базы данных
* Удвоено количество индексов на коллекцию, теперь до 32 индексов на коллекцию.
* Новый FileStorageс пользовательским Idтипом
* Новое BsonExpressions: преобразование, фильтрация, сопоставление, уменьшение, ..
* Новый Query Pipe внутри движка
* Простое обновление существующих баз данных LiteDB v4 (используйте upgrade=trueв строке подключения)
* Новый посетитель Linq (с поддержкой дополнительных выражений)
* Новый беглыйQuery
* И не один год напряженной работы!!
* Поддержка нового языка SQL — очень похоже на ANSI SQL.
* Выбрать, Вставить, Обновить, Удалить, Создать индекс, Удалить индекс, Удалить коллекцию, Объяснить
* Поддержка GroupBy, Наличие, Лимит, Смещение, OrderBy, Включает, ...
* Системные коллекции (получить информацию о базе данных)
* Поддержка системных функций (импорт/экспорт CSV/JSON)
* Новый графический интерфейс для Windows
* Несколько вкладок, несколько потоков, несколько транзакций
* Взаимодействуйте с вашей базой данных и коллекциями с помощью операторов SQL.

Обновление версии 4.0.0 - 18 октября 2017
* Только для NET4
* Новая поддержка выражений
* Исправлены проблемы параллелизма в версии v3
* Поддержка переносимости с использованием NETStandard 1.3 + 2.0
* Обновление v2.0.0 - 1 назад 2016
* Поддержка Portable - UWP, Xamarin - iOS и Android
* .NET 3.5
* Новый доступ к диску, позволяющий избежать функций блокировки: используйте только эксклюзивный режим чтения / записи
* Вернули некоторые функции версии v1: управление пользовательскими транзакциями, регистрацию AutoID и экземпляр global mapper

Обновление v.2.0.0-rc - 24 декабря 2015
* Файл данных шифрования
* Перенос файла данных с версии 0.9.0 / v1.0.x
* Дамп файла данных как вставка
* Улучшенная поддержка кэша / параллелизма
* Счастливого Рождества :)

Обновление v.2.0.0-бета - 27 ноября 2015
* Абстрактный уровень сохранения
* Fluent mapper API
* новый DBRef
* Поле виртуального индекса
* Новая система очистки кэша
* Поддержка начального размера базы данных и максимального размера базы данных
* Отложенная загрузка.
* Защита от потоков и процессов
* Сжатие файлов данных
* Информация журнала базы данных

Обновление v1.0.2 - 17 мая 2015
* Лучше, чтобы BsonMapper сериализовал / десериализовал интерфейсы и базовые классы, используя поле _type в документе (как используется в MongoDB)
* BsonMapper для сбора значений имен
* Добавлена поддержка логических операций Linq, таких как x => x.isActive
* Исправлена ошибка в операциях обновления / удаления индекса строки
* Удалены операции поиска документов при полном сканировании - теперь работает только с индексом
* Автоматическое создание индекса, если он не существует

Обновление v1.0 - 28 марта 2015
* Новый BsonSerializer удаляет fastBinaryJson и реализует реальную спецификацию BSON
* Новый BsonMapper для получения более настраиваемого POCO из / в BsonDocument
* Новая реализация JsonReader: без регулярных выражений и в 4 раза быстрее
* Новый идентификатор объекта, который будет использоваться в документах Id
* Параметры создания индекса - удаление пробелов, удаление акцентов, игнорирование регистра
* Атрибут [BsonIndex] для обозначения вашего свойства объекта для автоматического создания индекса при запросе
* Идентификатор автоматической генерации для свойства entity Id
* Find() может быть выполнен без индекса (выполнит полное сканирование документа)
* FindAll() поддерживает результаты по возрастанию / убыванию
* Минимальное () / Максимальное() значение из индекса
* DBRef<> - простой класс для справочного документа
* Улучшен сбор данных и индекс удаления
* Удалена коллекция _master - не прочитана 1 страница

Обновление версии 0.9 - 07 февраля 2015
* Добавили банковскую метку MongoDB
* Добавилен краткий обзор оболочки

Начальная версия - 25 января 2015

## Инструменты для взаимодействия и языки программирования

LiteDB — это бессерверная база данных, поставляемая в виде одной небольшой библиотеки DLL (< 450 КБ), полностью написанной на управляемом коде .NET C# (совместимом с .NET 4.5 и NETStandard 2.0).

* LiteDB поддерживает SQL-подобный язык для обработки данных и структур. Вы можете вставлять, обновлять, удалять или запрашивать базу данных, используя очень похожий реляционный язык SQL.
* Выражения LINQ (лямбда-функции) можно использовать для создания плавного запроса API в коде C#.
* Все команды SQL поддерживаются в новом инструменте администрирования LiteDB.Studio .
* Вы также можете получить подробный EXPLAIN PLAN от механизма запросов, чтобы проверить, будет ли ваш запрос выполняться с максимальной производительностью.
* LiteDB полностью написан на управляемом коде C#.
* Поддержка .NET Framework 4.5 и .NET Standard 1.3 и 2.0, .NET Core 2.0+, UWP, Linux, мобильного Xamarin (iOS и Android), Unity... на каждой платформе .NET
* LiteDB является бесплатным и открытым исходным кодом?

Информация взята с официального сайта.

## Database engine

Еще одно преимущество использования LiteDB заключается в том, что существует также «LiteDB Studio» , которую вы можете установить (фактически собрать из исходников) отдельно. Он позволяет подключаться к локальной базе данных и управлять ею с помощью приятного пользовательского интерфейса. Исходники можно посмотреть [здесь](https://github.com/mbdavid/LiteDB.Studio).

